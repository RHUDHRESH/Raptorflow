# GCP Configuration for SOTA OCR System
# Production-ready configuration for Google Cloud Platform deployment

# GCP Project Configuration
GCP_PROJECT_ID=raptorflow-ocr-prod
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# GCP Compute Engine Configuration
GCP_MACHINE_TYPE=n1-standard-8
GCP_GPU_TYPE=nvidia-tesla-a100
GCP_GPU_COUNT=1
GCP_PREEMPTIBLE=false
GCP_MIN_CPU_PLATFORM=Intel_Cascade_Lake

# GCP Storage Configuration
GCP_STORAGE_BUCKET=raptorflow-ocr-storage
GCP_STORAGE_CLASS=STANDARD
GCP_STORAGE_LOCATION=us-central1

# GCP Network Configuration
GCP_NETWORK_NAME=ocr-network
GCP_SUBNET_NAME=ocr-subnet
GCP_FIREWALL_NAME=ocr-firewall

# GCP IAM Configuration
GCP_SERVICE_ACCOUNT=ocr-service-account@raptorflow-ocr-prod.iam.gserviceaccount.com
GCP_IAM_ROLES=roles/compute.admin,roles/storage.admin,roles/logging.admin,roles/monitoring.admin

# OCR Model Configuration
OCR_MODELS_ENABLED=chandra_ocr_8b,dots_ocr,deepseek_ocr_3b
OCR_MAX_CONCURRENT_MODELS=2
OCR_MODEL_CACHE_SIZE_GB=50
OCR_MODEL_TIMEOUT_SECONDS=300

# OCR Processing Configuration
OCR_MAX_FILE_SIZE_MB=100
OCR_MAX_CONCURRENT_JOBS=10
OCR_ENABLE_ENSEMBLE=true
OCR_ENABLE_QUALITY_CHECK=true
OCR_ENABLE_MONITORING=true

# GPU Memory Management
GPU_MEMORY_LIMIT_GB=35
GPU_MEMORY_UTILIZATION_THRESHOLD=0.8
GPU_AUTO_SCALE=true

# Performance Configuration
OCR_TARGET_THROUGHPUT_PAGES_PER_MINUTE=100
OCR_MAX_LATENCY_SECONDS=30
OCR_BATCH_SIZE=32

# Cost Optimization
ENABLE_PREEMPTIBLE_INSTANCES=true
PREEMPTIBLE_INSTANCE_RATIO=0.7
AUTOSCALING_MIN_INSTANCES=1
AUTOSCALING_MAX_INSTANCES=5
AUTOSCALING_TARGET_CPU_UTILIZATION=70

# Monitoring and Logging
ENABLE_STACKDRIVER=true
LOG_LEVEL=INFO
METRICS_COLLECTION_INTERVAL=60
ALERTING_ENABLED=true

# Security Configuration
ENABLE_VPC_SERVICE_CONTROLS=true
ENCRYPTION_AT_REST=true
ENCRYPTION_IN_TRANSIT=true
IAM_CONDITIONS_ENABLED=true

# Backup and Disaster Recovery
ENABLE_BACKUPS=true
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
DISASTER_RECOVERY_ENABLED=true

# API Configuration
API_RATE_LIMIT=1000
API_TIMEOUT_SECONDS=60
API_ENABLE_CORS=true
API_CORS_ORIGINS=https://raptorflow.ai,https://app.raptorflow.ai

# Database Configuration (for monitoring/analytics)
DATABASE_INSTANCE=ocr-monitoring-db
DATABASE_TIER=db-n1-standard-2
DATABASE_STORAGE_SIZE=100GB

# Redis Configuration (for caching)
REDIS_INSTANCE=ocr-cache
REDIS_TIER=redis-n1-standard-2
REDIS_MEMORY_SIZE=4GB

# Load Balancer Configuration
LOAD_BALANCER_TYPE=HTTP(S)
LOAD_BALANCER_NAME=ocr-lb
SSL_CERTIFICATE_ENABLED=true

# Container Configuration
CONTAINER_REGISTRY=us-central1-docker.pkg.dev/raptorflow-ocr-prod/ocr
CONTAINER_IMAGE_TAG=latest
CONTAINER_CPU_LIMIT=4000m
CONTAINER_MEMORY_LIMIT=16Gi
CONTAINER_GPU_LIMIT=1

# Environment Variables
NODE_ENV=production
PYTHON_VERSION=3.9
CUDA_VISIBLE_DEVICES=0
TORCH_CUDA_ARCH_LIST=8.0

# Cost Tracking
COST_TRACKING_ENABLED=true
BUDGET_ALERTS_ENABLED=true
MONTHLY_BUDGET_LIMIT=5000

# Feature Flags
FEATURE_RL_OPTIMIZATION=true
FEATURE_ADAPTIVE_LEARNING=true
FEATURE_INTELLIGENT_CACHE=true
FEATURE_ADVANCED_MONITORING=true
