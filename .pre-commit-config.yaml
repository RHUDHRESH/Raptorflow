repos:
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
    -   id: trailing-whitespace
    -   id: end-of-file-fixer
    -   id: check-yaml
    -   id: check-added-large-files

-   repo: https://github.com/psf/black
    rev: 24.10.0
    hooks:
    -   id: black
        language_version: python3
        # Brownfield repo: keep formatting on production code first.
        # Tests contain legacy/unparseable files (BOM, broken fixtures) that are out of scope for this hook.
        files: ^backend/(?!tests/).*\.(py|pyi)$

-   repo: https://github.com/pycqa/isort
    rev: 5.13.2
    hooks:
    -   id: isort
        args: ["--profile", "black"]

-   repo: https://github.com/pycqa/flake8
    rev: 7.1.1
    hooks:
    -   id: flake8
        # Brownfield repo: enforce parse/syntax correctness without boiling the ocean on existing style debt.
        # Keep this focused on backend runtime code (exclude backend/tests).
        files: ^backend/(?!tests/).*\.(py|pyi)$
        args: ["--max-line-length=120", "--extend-ignore=E203", "--select=E9,F63,F7,F82"]

-   repo: https://github.com/PyCQA/bandit
    rev: 1.7.10
    hooks:
    -   id: bandit
        args: ["-lll"]
        files: ^backend/

-   repo: https://github.com/pre-commit/mirrors-eslint
    # Align with repo's ESLint major version. ESLint v8 requires .eslintrc.cjs.
    # Using v8.57.1 which has a valid git tag in mirrors-eslint
    rev: v8.57.1
    hooks:
    -   id: eslint
        files: \.(js|jsx|ts|tsx)$
        additional_dependencies:
        - eslint@8.57.1
        - eslint-config-next@14.2.5
